# AWS / S3 (外部服務)          
# ※請自行填入實際金鑰
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=auto

# PostgreSQL 設定             
POSTGRES_USER=root
POSTGRES_PASSWORD=postgres
POSTGRES_DB=v2
POSTGRES_PORT=5432

# ⚠️ Docker 內部連線用的 Hostname，需對應 docker-compose service name
POSTGRES_HOST=postgresql

# RustFS (S3 Compatible Storage)
# ※請自行填入實際金鑰
RUSTFS_ACCESS_KEY=YOUR_RUSTFS_KEY
RUSTFS_SECRET_KEY=YOUR_RUSTFS_SECRET

# RustFS domain / ports
RUSTFS_DOMAIN=nkust-donuts-models-storage
RUSTFS_WEB_PORT=9000
RUSTFS_ADMIN_PORT=9001

# ⚠️ Docker 內部 S3 端點（指向 rustfs service）
S3_ENDPOINT_URL=http://rustfs:9000

# MLflow 設定                  
MLFLOW_PORT=5000
MLFLOW_DB_NAME=mlflow
# ⚠️ MLflow backend 連線需要 Docker 內部 PostgreSQL
MLFLOW_BACKEND_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${MLFLOW_DB_NAME}
# MLflow 存模型 artifacts 的 S3 路徑(請先在 RustFS創建一個路徑在設定)
#需到rustFS設置
BUCKET_NAME=nkust-ic-models
MLFLOW_ARTIFACT_ROOT=s3://${BUCKET_NAME}/mlflow-blobs/

# Inference Server / App      
# ⚠️ Docker 內部 PostgreSQL
INFERENCE_MLFLOW_TRACKING_URI=http://mlflow:${MLFLOW_PORT}
INFERENCE_DATABASE_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
FASTAPI_PORT=8000

# Open-Meteo & Redis           
OPEN_METEO_FORECAST_PORT=3000
OPEN_METEO_ARCHIVE_PORT=3001
# ⚠️ Docker 內部 open-meteo-proxy
INFERENCE_OPEN_METEO_FORECAST_BASE_URL=http://open-meteo-proxy:${OPEN_METEO_FORECAST_PORT}
INFERENCE_OPEN_METEO_ARCHIVE_BASE_URL=http://open-meteo-proxy:${OPEN_METEO_ARCHIVE_PORT}
# Redis（建議 Production 使用強密碼）
REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# sales-auto-ml               
# Host 上連 PostgreSQL
DATABASE_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:${POSTGRES_PORT}/${POSTGRES_DB}
MLFLOW_TRACKING_URI=http://localhost:${MLFLOW_PORT}
MLFLOW_S3_ENDPOINT_URL=http://localhost:${RUSTFS_WEB_PORT}
OPEN_METEO_FORECAST_BASE_URL=http://localhost:${OPEN_METEO_FORECAST_PORT}
OPEN_METEO_ARCHIVE_BASE_URL=http://localhost:${OPEN_METEO_ARCHIVE_PORT}